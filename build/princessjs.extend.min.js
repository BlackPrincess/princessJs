/*! princessjs 2013-06-24 */
Date.prototype.getMonthLength=function(){return this.getMonthLast().getDate()},Date.prototype.getPrevMonth=function(){return this.dateAdd("month",-1)},Date.prototype.getNextMonth=function(){return this.dateAdd("month",1)},Date.prototype.getMonthFirst=function(){var a=this.getDatePart();return a.setDate(1),a},Date.prototype.getMonthLast=function(){var a=this.getMonthFirst();return a.setMonth(a.getMonth()+1),a.setDate(0),a},Date.prototype.getDatePart=function(){var a=this.clone();return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a},Date.prototype.dateAdd=function(a,b){var c,d=this.clone();switch(a){case"year":case"y":d=this.dateAdd("month",12*b);break;case"month":case"m":c=d.getDate(),d.setDate(1),d.setMonth(d.getMonth()+b+1),d.setDate(0),d.setDate(Math.min(c,d.getDate()));break;case"day":case"date":case"d":d.setDate(d.getDate()+b);break;case"week":d=this.dateAdd("day",7*b);break;case"hour":d.setHours(d.getHours()+b);break;case"minute":d.setMinutes(d.getMinutes()+b);break;case"second":d.setSeconds(d.getSeconds()+b);break;case"millisecond":d.setMilliseconds(d.getMilliseconds()+b)}return d},Date.prototype.dateDiff=function(a,b){var c=(new Date).getDatePart().getTime();switch(a){case"year":case"y":return b.getFullYear()-this.getFullYear();case"month":case"m":return 12*this.dateDiff("year",b)+b.getMonth()-this.getMonth();case"day":case"date":case"d":return Math.floor((b.getTime()-c)/864e5)-Math.floor((this.getTime()-c)/864e5);case"week":return Math.floor(this.dateDiff("day",b)/7);case"hour":return Math.floor((b.getTime()-c)/36e5)-Math.floor((this.getTime()-c)/36e5);case"minute":return Math.floor((b.getTime()-c)/6e4)-Math.floor((this.getTime()-c)/6e4);case"second":return Math.floor((b.getTime()-c)/1e3)-Math.floor((this.getTime()-c)/1e3);case"millisecond":return b.getTime()-this.getTime()}return null},Date.prototype.toFormatString=function(a){var b=new Array("Sun","Mon","Tue","Web","Tur","Fri","Sat"),c=this.getFullYear().toString(),d=c.slice(2),e=(this.getMonth()+1).toString(),f=1===e.length?"0"+e:e,g=this.getDate().toString(),h=1===g.length?"0"+g:g,i=b[this.getDay()],j=this.getHours().toString(),k=1===j.length?"0"+j:j,l=(this.getHours()%12).toString();"0"===l&&(l="12");var m=1===l.length?"0"+l:l,n=this.getMinutes().toString(),o=1===n.length?"0"+n:n,p=this.getSeconds().toString(),q=1===p.length?"0"+p:p,r="000"+this.getMilliseconds().toString(),s=r.substr(r.length-3,1),t=r.substr(r.length-3,2),u=r.substr(r.length-3,3);return a.replace(/yyyy/g,c).replace(/yy/g,d).replace(/MM/g,f).replace(/M/g,e).replace(/ddd/g,i).replace(/dd/g,h).replace(/d/g,g).replace(/HH/g,k).replace(/H/g,j).replace(/hh/g,m).replace(/h/g,l).replace(/mm/g,o).replace(/m/g,n).replace(/ss/g,q).replace(/s/g,p).replace(/fff/g,u).replace(/ff/g,t).replace(/f/g,s)},Date.prototype.clone=function(){return new Date(this.getTime())},String.prototype.format=function(a){var b,c=this;if("object"==typeof a)b=function(b,c){return a[c]?a[c]:b};else{var d=arguments,e=d.length-1;c=c.replace(/(?!\{)*\{\{(\w+)\}\}/g,function(a){d[++e]=a.replace("{{","{").replace("}}","}");var b="{"+e+"}";return b}),b=function(a,b){return d[parseInt(b,10)]}}return c.replace(/(?!\{)*\{(\w+)\}/g,b)},function(){var a=65248;String.prototype.toHalfNumber=function(){return this.replace(/[０１２３４５６７８９]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-a)}).replace(/\d+\．\d+/g,function(a){return a.replace("．",".")})},String.prototype.toHalfAlphabet=function(){return this.replace(/[Ａ-Ｚａ-ｚ]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-a)})}}(),String.prototype.removeFullWidth=function(){return this.replace(/[^!-~]/g,"")};